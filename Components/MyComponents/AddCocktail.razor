@namespace MyComponents.AddCocktail
@inject CircleHospitalityContext Context
@using MyComponents.ItemTypeDropdown
@using MyComponents.IngredientList
@using System
@using System.Linq
@using Microsoft.AspNetCore.Mvc.TagHelpers

<div class="container text-center">
    <div class="row">
        <div class="col">
            <div class="container text-center">
                <form method="post" @formname="itemName">
                    <AntiforgeryToken />
                    <div asp-validation-summary="All" class="text-danger"></div>

                    <div class="row mb-3">
                        <div class="col">
                            <label asp-for="itemName" class="form-label">Name:</label>
                        </div>

                        <div class="col">
                            <input type="text" asp-for="itemName" class="form-control-sm" placeholder="Item Name" />
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col">
                            <label for="description" class="form-label">Description:</label>
                        </div>
                        <div class="col">
                            <input id="description" type="text" class="form-control-sm" placeholder="Yummy and nice" />
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col">
                            <label for="creatorName" class="form-label">Creator:</label>
                        </div>
                        <div class="col">
                            <input id="creatorName" type="text" class="form-control-sm" placeholder="Creator" />
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col">
                            <label class="form-label">Allergens:</label>
                        </div>
                        <div class="col">
                            <div class="container text-center">
                                <div class="row">
                                    <div class="col">
                                        <input id="hasDairy" class="form-check-input" type="checkbox" value="" />
                                        <label for="hasDairy" class="form-label ms-2">Has Dairy</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <input id="hasEgg" class="form-check-input" type="checkbox" value="" />
                                        <label for="hasEgg" class="form-label ms-2">Has Egg</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col">
                            <label class="form-label">Available at:</label>
                        </div>
                        <div class="col">
                            <div class="container text-center">
                                <div class="row">
                                    <div class="col">
                                        <input id="availSVI" class="form-check-input" type="checkbox" value="" />
                                        <label for="availSVI" class="form-label ms-2">Sundry - Indy</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <input id="availSVC" class="form-check-input" type="checkbox" value="" />
                                        <label for="availSVC" class="form-label ms-2">Sundry - Cincy</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <input id="availCS" class="form-check-input" type="checkbox" value="" />
                                        <label for="availCS" class="form-label ms-2">Comfort - Cincy</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col">
                            <label class="form-label">Cocktail Type:</label>
                        </div>
                        <div class="col">
                            <ItemTypeDropdown />
                        </div>
                    </div>
`
                    <div class="row mb-3">
                        <div class="col">
                            <label class="form-label">Ingredients:</label>
                        </div>
                        <div class="col">
                            <IngredientList />
                        </div>
                    </div>
                    <button onclick="OnPost">submit</button>
                </form>
            </div>
        </div>
    </div>
</div>

@code {
    public void OnPost()
    {
        var menuItem = new MenuItem { ItemTypeID = 3, ItemName = "test item", ItemDescription = "Testing something else", CreatorName = "Someone else" };
        Context.MenuItems.Add(menuItem);
        Context.SaveChanges();
    }
}